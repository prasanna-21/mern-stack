{"ast":null,"code":"import axios from 'axios';\nimport { GET_PROFILE, PROFILE_ERROR, UPDATE_PROFILE } from './types';\nimport { setAlert } from './alert';\nexport const getCurrentProfile = () => async dispatch => {\n  try {\n    const res = await axios.get(\"http://localhost:8001/api/profile/me\");\n    dispatch({\n      type: GET_PROFILE,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: PROFILE_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n};\nexport const createProfile = function (formData, navigate) {\n  let edit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  return async dispatch => {\n    try {\n      const res = await axios.post('http://localhost:8001/api/profile', formData);\n      dispatch({\n        type: GET_PROFILE,\n        payload: res.data\n      });\n      dispatch(setAlert(edit ? \"profile updated\" : \"profile created\", \"success\"));\n\n      if (!edit) {\n        navigate('/dashboard');\n      }\n    } catch (err) {\n      const errors = err.response.data.errors;\n\n      if (errors) {\n        errors.forEach(err => dispatch(setAlert(err.msg, 'danger')));\n      }\n\n      dispatch({\n        type: PROFILE_ERROR,\n        payload: {\n          msg: err.response.statusText,\n          status: err.response.status\n        }\n      });\n    }\n  };\n};\nexport const addExperience = (formData, navigate) => async dispatch => {\n  try {\n    const res = await axios.put(\"http://localhost:8001/api/profile/experience\", formData);\n    dispatch({\n      type: UPDATE_PROFILE,\n      payload: res.data\n    });\n    dispatch(setAlert(\"Added Experience\", \"success\"));\n    navigate(\"/dashboard\");\n  } catch (err) {\n    const errors = err.response.data.errors;\n\n    if (errors) {\n      errors.forEach(error => dispatch(setAlert(error.msg, 'danger')));\n    }\n\n    dispatch({\n      type: PROFILE_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n};\nexport const addEducation = (formData, navigate) => async dispatch => {\n  try {\n    const res = await axios.put('http://localhost:8001/api/profile/education', formData);\n    dispatch({\n      type: UPDATE_PROFILE,\n      payload: res.data\n    });\n    dispatch(setAlert('added education', 'success'));\n    navigate(\"/dashboard\");\n  } catch (err) {\n    const errors = err.response.data.errors;\n\n    if (errors) {\n      errors.forEach(error => dispatch(setAlert(error.msg, 'danger')));\n    }\n\n    dispatch({\n      type: PROFILE_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n};\nexport const deleteExperience = id => async dispatch => {\n  try {\n    const res = await axios.delete(`http://localhost:8001/api/profile/experience/${id}`);\n  } catch (err) {}\n};","map":{"version":3,"sources":["D:/mern_full_stack/server/client/src/actions/profile.js"],"names":["axios","GET_PROFILE","PROFILE_ERROR","UPDATE_PROFILE","setAlert","getCurrentProfile","dispatch","res","get","type","payload","data","err","msg","response","statusText","status","createProfile","formData","navigate","edit","post","errors","forEach","addExperience","put","error","addEducation","deleteExperience","id","delete"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport { GET_PROFILE,PROFILE_ERROR ,UPDATE_PROFILE} from './types';\r\nimport { setAlert } from './alert';\r\n\r\nexport const getCurrentProfile=()=>async dispatch=>{\r\n    try{\r\n        const res=await axios.get(\"http://localhost:8001/api/profile/me\");\r\n        dispatch({\r\n            type:GET_PROFILE,\r\n            payload:res.data\r\n        })\r\n    }catch(err){\r\n        dispatch({\r\n            type:PROFILE_ERROR,\r\n            payload:{msg:err.response.statusText,status:err.response.status}\r\n        })\r\n\r\n    }\r\n    \r\n    \r\n}\r\n\r\nexport const createProfile=(formData,navigate,edit=false)=>async dispatch=>{\r\n    try{\r\n    const res=await axios.post('http://localhost:8001/api/profile',formData);\r\n    dispatch({type:GET_PROFILE,payload:res.data});\r\n    dispatch(setAlert(edit ? \"profile updated\": \"profile created\",\"success\"));\r\n    if(!edit){\r\n        navigate('/dashboard')\r\n    }\r\n    }catch(err){\r\n        const errors=err.response.data.errors;\r\n        if(errors){\r\n        errors.forEach(err=>dispatch(setAlert(err.msg,'danger')))\r\n        }\r\n        dispatch({type:PROFILE_ERROR,payload:{msg:err.response.statusText,status:err.response.status}})\r\n    }\r\n\r\n}\r\n\r\nexport const addExperience=(formData,navigate)=>async dispatch=>{\r\n    try{\r\n        const res=await axios.put(\"http://localhost:8001/api/profile/experience\",formData);\r\n        dispatch({type:UPDATE_PROFILE,payload:res.data});\r\n        dispatch(setAlert(\"Added Experience\",\"success\"));\r\n        navigate(\"/dashboard\")\r\n    }catch(err){\r\n        const errors=err.response.data.errors;\r\n        if(errors) {\r\n            errors.forEach(error=>dispatch(setAlert(error.msg,'danger')))\r\n        }\r\n        dispatch({type:PROFILE_ERROR,payload:{msg:err.response.statusText,status:err.response.status}})\r\n    }\r\n}\r\n\r\nexport const addEducation=(formData,navigate)=>async dispatch=>{\r\n    try{\r\n        const res=await axios.put('http://localhost:8001/api/profile/education',formData);\r\n        dispatch({type:UPDATE_PROFILE,payload:res.data});\r\n        dispatch(setAlert('added education','success'));\r\n        navigate(\"/dashboard\");\r\n    }catch(err){\r\n        const errors=err.response.data.errors;\r\n        if(errors) {\r\n            errors.forEach(error=>dispatch(setAlert(error.msg,'danger')))\r\n        }\r\n        dispatch({type:PROFILE_ERROR,payload:{msg:err.response.statusText,status:err.response.status}})\r\n    }\r\n}\r\n\r\nexport const deleteExperience=id=>async dispatch=>{\r\n    try{\r\n        const res=await axios.delete(`http://localhost:8001/api/profile/experience/${id}`);\r\n        \r\n\r\n    }catch(err){\r\n\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}