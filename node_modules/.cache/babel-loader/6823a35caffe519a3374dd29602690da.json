{"ast":null,"code":"import { REGISTER_SUCCESS, REGISTER_FAIL, USER_LOADED, AUTH_FAIL, LOGIN_SUCCESS, LOGIN_FAIL } from '../actions/types';\nlet initialState = {\n  token: localStorage.getItem(\"token\"),\n  isAuthenticate: false,\n  isLoading: true,\n  user: null\n};\n\nconst auth = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case REGISTER_SUCCESS:\n    case LOGIN_SUCCESS:\n      localStorage.setItem('token', action.payload.token);\n      return { ...state,\n        ...action.payload,\n        isAuthenticate: true,\n        isLoading: false\n      };\n\n    case USER_LOADED:\n      return { ...state,\n        ...action.payload,\n        isAuthenticate: true,\n        isLoading: false\n      };\n\n    case REGISTER_FAIL:\n    case AUTH_FAIL:\n    case LOGIN_FAIL:\n      localStorage.removeItem('token');\n      return { ...state,\n        token: null,\n        isAuthenticate: false,\n        isLoading: false\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default auth;","map":{"version":3,"sources":["D:/mern_full_stack/server/client/src/reducers/auth.js"],"names":["REGISTER_SUCCESS","REGISTER_FAIL","USER_LOADED","AUTH_FAIL","LOGIN_SUCCESS","LOGIN_FAIL","initialState","token","localStorage","getItem","isAuthenticate","isLoading","user","auth","state","action","type","setItem","payload","removeItem"],"mappings":"AAAA,SAAQA,gBAAR,EAAyBC,aAAzB,EAAuCC,WAAvC,EAAmDC,SAAnD,EAA6DC,aAA7D,EAA2EC,UAA3E,QAA4F,kBAA5F;AAEA,IAAIC,YAAY,GAAC;AACbC,EAAAA,KAAK,EAACC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADO;AAEbC,EAAAA,cAAc,EAAC,KAFF;AAGbC,EAAAA,SAAS,EAAC,IAHG;AAIbC,EAAAA,IAAI,EAAC;AAJQ,CAAjB;;AAOA,MAAMC,IAAI,GAAC,YAA6B;AAAA,MAA5BC,KAA4B,uEAAtBR,YAAsB;AAAA,MAATS,MAAS;;AACpC,UAAOA,MAAM,CAACC,IAAd;AACI,SAAKhB,gBAAL;AACA,SAAKI,aAAL;AACII,MAAAA,YAAY,CAACS,OAAb,CAAqB,OAArB,EAA6BF,MAAM,CAACG,OAAP,CAAeX,KAA5C;AACA,aAAO,EACH,GAAGO,KADA;AAEH,WAAGC,MAAM,CAACG,OAFP;AAGHR,QAAAA,cAAc,EAAC,IAHZ;AAIHC,QAAAA,SAAS,EAAC;AAJP,OAAP;;AAMJ,SAAKT,WAAL;AACI,aAAM,EACF,GAAGY,KADD;AAEF,WAAGC,MAAM,CAACG,OAFR;AAGFR,QAAAA,cAAc,EAAC,IAHb;AAIFC,QAAAA,SAAS,EAAC;AAJR,OAAN;;AAMJ,SAAKV,aAAL;AACA,SAAKE,SAAL;AACA,SAAKE,UAAL;AACIG,MAAAA,YAAY,CAACW,UAAb,CAAwB,OAAxB;AACA,aAAO,EACH,GAAGL,KADA;AAEHP,QAAAA,KAAK,EAAC,IAFH;AAGHG,QAAAA,cAAc,EAAC,KAHZ;AAIHC,QAAAA,SAAS,EAAC;AAJP,OAAP;;AAMJ;AACI,aAAOG,KAAP;AA5BR;AA8BH,CA/BD;;AAgCA,eAAeD,IAAf","sourcesContent":["import {REGISTER_SUCCESS,REGISTER_FAIL,USER_LOADED,AUTH_FAIL,LOGIN_SUCCESS,LOGIN_FAIL} from '../actions/types'\r\n\r\nlet initialState={\r\n    token:localStorage.getItem(\"token\"),\r\n    isAuthenticate:false,\r\n    isLoading:true,\r\n    user:null\r\n}\r\n\r\nconst auth=(state=initialState,action)=>{\r\n    switch(action.type){\r\n        case REGISTER_SUCCESS:\r\n        case LOGIN_SUCCESS:\r\n            localStorage.setItem('token',action.payload.token)\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n                isAuthenticate:true,\r\n                isLoading:false\r\n            };\r\n        case USER_LOADED:\r\n            return{\r\n                ...state,\r\n                ...action.payload,\r\n                isAuthenticate:true,\r\n                isLoading:false\r\n            };\r\n        case REGISTER_FAIL:\r\n        case AUTH_FAIL:\r\n        case LOGIN_FAIL:\r\n            localStorage.removeItem('token');\r\n            return {\r\n                ...state,\r\n                token:null,\r\n                isAuthenticate:false,\r\n                isLoading:false,\r\n            };\r\n        default :\r\n            return state;\r\n    }\r\n}\r\nexport default auth;"]},"metadata":{},"sourceType":"module"}